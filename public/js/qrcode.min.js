var QRCode;!function(){function a(a){this.mode=c.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var b=[],d=0,e=this.data.length;e>d;d++){var f=[],g=this.data.charCodeAt(d);g>65536?(f[0]=240|(1835008&g)>>>18,f[1]=128|(258048&g)>>>12,f[2]=128|(4032&g)>>>6,f[3]=128|63&g):g>2048?(f[0]=224|(61440&g)>>>12,f[1]=128|(4032&g)>>>6,f[2]=128|63&g):128>g?f[0]=g:(f[0]=192|(1984&g)>>>6,f[1]=128|63&g);for(var h=0,i=f.length;i>h;h++)b.push(f[h])}this.parsedData=b,this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239));var j=new ArrayBuffer(this.parsedData.length);this.buffer=new Uint8Array(j);for(var h=0,i=this.parsedData.length;i>h;h++)this.buffer[h]=this.parsedData[h];this.dataLength=this.parsedData.length}function b(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8,L1:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],L2:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],L3:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],L4:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],L5:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],L6:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],L7:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],L8:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],L9:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],L10:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],getBCHTypeInfo:function(a){for(var b=a<<10;b>=0&&b>=1024;)b^=1335;return(a<<10|b)^21522},getBCHTypeNumber:function(a){for(var b=a<<12;b>=0&&b>=4096;)b^=7973;return a<<12|b},getPatternPosition:function(a){return a-1},getMask:function(a,b,c){switch(a){case 0:return(b+c)%2==0;case 1:return b%2==0;case 2:return c%3==0;case 3:return(b+c)%3==0;case 4:return(Math.floor(b/2)+Math.floor(c/3))%2==0;case 5:return(b*c)%2+(b*c)%3==0;case 6:return((b*c)%2+(b*c)%3)%2==0;case 7:return((b*c)%3+(b+c)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new d([1],0),c=0;a>c;c++)b=b.multiply(new d([1,e.gexp(c)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(b>=10&&27>b)switch(a){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(b>=27&&41>b))throw new Error("type:"+b);switch(a){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b||0>e||e>=b)&&(0!=h||0!=0)&&g==a.isDark(d+h,e)){f++;break}for(var h=-1;1>=h;h++)if(!(0>d||d>=b||0>e+h||e+h>=b)&&(0!=0||0!=h)&&g==a.isDark(d,e+h)){f++;break}f>0&&(c+=3)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var i=0;a.isDark(d,e)&&i++,a.isDark(d+1,e)&&i++,a.isDark(d,e+1)&&i++,a.isDark(d+1,e+1)&&i++,(0==i||4==i)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var j=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&j++;var k=Math.abs(100*j/b/b-50)/5;return c+=10*k}};var d=function(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]};d.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=e.glog(e.gexp(this.get(c))+e.gexp(a.get(d)));return new d(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=e.glog(this.get(0))-e.glog(a.get(0)),c=new Array(this.getLength()),f=0;f<this.getLength();f++)c[f]=this.get(f);for(var f=0;f<a.getLength();f++)c[f]^=e.gexp(e.glog(a.get(f))+b);return new d(c,0).mod(a)}};var e={glog:function(a){if(1>a)throw new Error("glog("+a+")");return e.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return e.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},f=0;8>f;f++)e.EXP_TABLE[f]=1<<f;for(var f=8;256>f;f++)e.EXP_TABLE[f]=e.EXP_TABLE[f-4]^e.EXP_TABLE[f-5]^e.EXP_TABLE[f-6]^e.EXP_TABLE[f-8];for(var f=0;255>f;f++)e.LOG_TABLE[e.EXP_TABLE[f]]=f;b.prototype={addData:function(a){var b=new a(a);this.dataList.push(b),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,c),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(a+c<=-1||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)b+d<=-1||this.moduleCount<=b+d||(this.modules[a+c][b+d]=c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=e.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e;this.modules[f][h]&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=a%2==0),null==this.modules[6][a]&&(this.modules[6][a]=a%2==0)},setupPositionAdjustPattern:function(){for(var a=e.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],f=a[c];if(null==this.modules[d][f])for(var g=-2;2>=g;g++)for(var h=-2;2>=h;h++)this.modules[d+g][f+h]=-2==g||2==g||-2==h||2==h||0==g&&0==h}},setupTypeNumber:function(a){for(var b=e.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=e.getBCHTypeInfo(c),f=0;15>f;f++){var g=!a&&1==(d>>f&1);6>f?this.modules[f][8]=g:8>f?this.modules[f+1][8]=g:this.modules[this.moduleCount-15+f][8]=g}for(var f=0;15>f;f++){var g=!a&&1==(d>>f&1);8>f?this.modules[8][this.moduleCount-f-1]=g:9>f?this.modules[8][15-f-1+1]=g:this.modules[8][15-f-1]=g}this.modules[this.moduleCount-8][8]=!a,this.modules[8][0]=!1},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,g=this.moduleCount-1;g>0;g-=2)for(6==g&&g--;;){for(var h=0;2>h;h++)if(null==this.modules[d][g-h]){var i=!1;f<a.length&&(i=1==(a[f]>>>e&1)),e--,-1==e&&(f++,e=7),this.modules[d][g-h]=i&&e.getMask(b,d,g-h)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},b.PAD0=236,b.PAD1=17,b.createData=function(a,c,d){for(var e=new b(c,null),f=0;f<d.length;f++){var g=d[f];e.addData(g)}var h=e.dataList;h=new b(a,c);for(var f=0;f<d.length;f++){var g=d[f];h.addData(g)}if(h.getDataCount()>h.totalDataCount)throw new Error("code length overflow. ("+h.getDataCount()+">"+h.totalDataCount+")");for(h.buffer.put(0,4),h.buffer.length<h.totalDataCount&&h.buffer.put(0,h.totalDataCount-h.buffer.length);h.buffer.length%8!=0;)h.buffer.putBit(!1);for(;;){if(h.buffer.length>=h.totalDataCount)break;h.buffer.put(b.PAD0,8);if(h.buffer.length>=h.totalDataCount)break;h.buffer.put(b.PAD1,8)}return b.createBytes(h.buffer,e)},b.createBytes=function(a,b){for(var c=0,d=0,e=0,f=new Array(b.length),g=new Array(b.length),h=0;h<b.length;h++){var i=b[h].dataCount,j=b[h].totalCount-i;d=Math.max(d,i),e=Math.max(e,j),f[h]=new Array(i);for(var k=0;i>k;k++)f[h][k]=255&a.buffer[k+c];c+=i;var l=e.getErrorCorrectPolynomial(j),m=new d(f[h],l.getLength()-1),n=m.mod(l);g[h]=new Array(l.getLength()-1);for(var k=0;k<g[h].length;k++){var o=k+n.getLength()-g[h].length;g[h][k]=o>=0?n.get(o):0}}for(var p=0,k=0;k<b.length;k++)p+=b[k].totalCount;for(var q=new Array(p),r=0,k=0;d>k;k++)for(var h=0;h<b.length;h++)k<f[h].length&&(q[r++]=f[h][k]);for(var k=0;e>k;k++)for(var h=0;h<b.length;h++)k<g[h].length&&(q[r++]=g[h][k]);return q};for(var g=function(){var a=new Array(c.L1.length);for(var b in c)a[b]=c[b];return a}(),a=0,h=0;h<g.length;h++)a+=1<<h;var i={glog:function(a){if(1>a)throw new Error("glog("+a+")");return i.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return i.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},j=0;8>j;j++)i.EXP_TABLE[j]=1<<j;for(var j=8;256>j;j++)i.EXP_TABLE[j]=i.EXP_TABLE[j-4]^i.EXP_TABLE[j-5]^i.EXP_TABLE[j-6]^i.EXP_TABLE[j-8];for(var j=0;255>j;j++)i.LOG_TABLE[i.EXP_TABLE[j]]=j;return c.L1={totalCount:152,dataCount:128},c.L2={totalCount:272,dataCount:224},c.L3={totalCount:440,dataCount:352},c.L4={totalCount:640,dataCount:512},c.L5={totalCount:864,dataCount:688},c.L6={totalCount:1120,dataCount:896},c.L7={totalCount:1440,dataCount:1152},c.L8={totalCount:1800,dataCount:1440},c.L9={totalCount:2240,dataCount:1792},c.L10={totalCount:2680,dataCount:2144},QRCode=b,b}();
